(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,a){e.exports=a(371)},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),o=a(47),i=(a(86),a(24)),l=a(32),u=a(16),m={user:null},p={page:1},h={userData:{},userInfo:!1},f={status:!1,message:""},d=Object(l.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(u.a)({},e,{user:t.userInfo});default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEXT_PAGE":case"PREV_PAGE":return Object(u.a)({},e,{page:e.page+t.cty});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_USERS":return Object(u.a)({},e,{userData:t.userData});case"GET_USER":return Object(u.a)({},e,{userInfo:t.userInfo});case"DISMISS_USER":return Object(u.a)({},e,{userInfo:t.setToNull});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_SNACKBAR":return Object(u.a)({},e,{status:!0,message:t.message});case"HIDE_SNACKBAR":return Object(u.a)({},e,{status:!1,message:""});default:return e}}}),E=a(137),b=a(138),g=Object(l.createStore)(d,Object(b.composeWithDevTools)(Object(l.applyMiddleware)(E.a))),v=a(22),y=a(23),j=a(29),w=a(28),N=a(30),O=a(139),k=a.n(O),S=function(){function e(){Object(v.a)(this,e),this.service=k.a.create({baseURL:"https://reqres.in/api/"})}return Object(y.a)(e,[{key:"listUsers",value:function(e){return this.service.get("users?page=".concat(e,"&per_page=5")).then(function(e){return e.data}).catch(function(e){return e})}},{key:"getUser",value:function(e){return this.service.get("users/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})}},{key:"newUser",value:function(e){return this.service.post("users",e).then(function(e){return e}).catch(function(e){return e})}},{key:"edituser",value:function(e){var t=e.id,a=e.name,n=e.job;return this.service.patch("users/".concat(t),{name:a,job:n}).then(function(e){return e}).catch(function(e){return e})}}]),e}(),U=new S,I=function(){return{type:"DISMISS_USER",setToNull:null}},D=function(e){return{type:"SHOW_SNACKBAR",message:e}},C=a(37),_=a(2),x=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(j.a)(this,Object(w.a)(t).call(this,e))).data=new S,a.state={edit:!1},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"closeUserInfo",value:function(e){e.preventDefault(),this.props.dismissUser()}},{key:"editUser",value:function(e){var t=this;e.preventDefault();var a=e.currentTarget.elements,n=a.name,r=a.job;this.data.edituser({id:this.props.userInfo.id,name:n.value,job:r.value}).then(function(e){if(200===e.status){var a=new Date(e.data.updatedAt),n="".concat(a.getHours(),":").concat(a.getMinutes()<10?"0":"").concat(a.getMinutes());t.props.showSnackbar("User updated at ".concat(n))}else t.props.showSnackbar("Something wrong has happened. Status: ".concat(e.status))}),n.value="",r.value="",this.toggleEdit()}},{key:"toggleEdit",value:function(){this.setState(Object(u.a)({},this.state,{edit:!this.state.edit}))}},{key:"render",value:function(){var e=this,t=this.props.userInfo,a=t.email,n=t.first_name,c=t.last_name,s=t.avatar;return r.a.createElement("div",{className:"user-detail"},r.a.createElement(_.u,{variant:"h5"},"User info"),r.a.createElement("img",{src:s,alt:n}),this.state.edit?r.a.createElement("form",{onSubmit:function(t){return e.editUser(t)}},r.a.createElement(_.f,{className:"form-control"},r.a.createElement(_.h,{htmlFor:"name"},"Name"),r.a.createElement(_.g,{required:!0,type:"text",id:"name"})),r.a.createElement(_.f,{className:"form-control"},r.a.createElement(_.h,{htmlFor:"job"},"Job"),r.a.createElement(_.g,{required:!0,type:"text",id:"job"})),r.a.createElement(_.c,{type:"submit",color:"primary",variant:"contained",className:"update-button"},"Update User")):r.a.createElement(_.i,null,r.a.createElement(_.j,null,r.a.createElement(_.k,{primary:"Email:",secondary:a})," "),r.a.createElement(_.j,null,r.a.createElement(_.k,{primary:"First name:",secondary:n})),r.a.createElement(_.j,null,r.a.createElement(_.k,{primary:"Last name:",secondary:c}))),r.a.createElement(_.c,{variant:"contained",color:"primary",onClick:function(t){return e.toggleEdit()}},this.state.edit?"Cancel":"Edit"),r.a.createElement(_.c,{variant:"contained",color:"secondary",onClick:function(t){return e.closeUserInfo(t)},className:"close-button"},"Close"))}}]),t}(n.Component),A={dismissUser:I,showSnackbar:D},P=Object(i.b)(function(e){return{userInfo:e.users.userInfo}},A)(x),R=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.name,a=e.picture;return r.a.createElement(_.a,{position:"static",className:"Topbar"},r.a.createElement(_.t,{className:"top-bar"},r.a.createElement(_.u,{variant:"h6",className:"title"},"React Test"),r.a.createElement("div",{className:"user-info"},r.a.createElement(_.u,{variant:"body1",className:"welcome"},"Welcome, ",t),r.a.createElement(_.b,{alt:t,src:a.data.url,className:"avatar"}))))}}]),t}(n.Component),T=Object(i.b)(function(e){return{user:e.auth.user}})(R),q=a(6),F=a.n(q),L=a(141),M=a.n(L),G=a(82),H=a.n(G),B=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(j.a)(this,Object(w.a)(t).call(this,e))).data=new S,a.state={rightDrawer:!1},a}return Object(N.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.listUsers(this.props.page)}},{key:"componentDidUpdate",value:function(e){this.props.page!==e.page&&this.props.listUsers(this.props.page)}},{key:"changePage",value:function(e){switch(e){case"prev":this.props.prevPage();break;case"next":this.props.nextPage()}}},{key:"showUserInfo",value:function(e,t){e.preventDefault(),this.props.getUser(t)}},{key:"createUser",value:function(e){var t=this;e.preventDefault();var a=e.currentTarget.elements,n=a.name,r=a.job;this.data.newUser({name:n.value,job:r.value}).then(function(e){if(t.toggleDrawer(!1),201===e.status){var a=new Date(e.data.createdAt),n="".concat(a.getHours(),":").concat(a.getMinutes()<10?"0":"").concat(a.getMinutes());t.props.showSnackbar("User created at ".concat(n," with id ").concat(e.data.id))}else t.props.showSnackbar("Something wrong has happened. Status: ".concat(e.status))}),n.value="",r.value=""}},{key:"toggleDrawer",value:function(e){this.setState(Object(u.a)({},this.state,{rightDrawer:e}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.userData,c=t.userInfo;return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement("div",{className:"Content"},n.data?r.a.createElement("div",{className:"table-container"},r.a.createElement(_.u,{component:"h1",variant:"h4",className:"title"},"Users list"),r.a.createElement(_.m,{className:"paper"},r.a.createElement(_.o,null,r.a.createElement(_.r,null,r.a.createElement(_.s,null,r.a.createElement(_.q,{className:"row-title"},"First Name"),r.a.createElement(_.q,{className:"row-title"},"Second Name"),r.a.createElement(_.q,{className:"row-title"},"More Info"))),r.a.createElement(_.p,null,n.data.map(function(t){return r.a.createElement(_.s,{key:t.id},r.a.createElement(_.q,null,t.first_name),r.a.createElement(_.q,null,t.last_name),r.a.createElement(_.q,null,r.a.createElement(_.c,{onClick:function(a){return e.showUserInfo(a,t.id)},color:"primary"},r.a.createElement(H.a,null),"Info")))})))),r.a.createElement("div",{className:"table-pagination"},r.a.createElement(_.c,{variant:"outlined",color:"primary",onClick:function(){return e.changePage("prev")},className:F()({"hide-button":1===n.page})},"Prev"),r.a.createElement(_.u,{variant:"caption"},"Page ",n.page," of ",n.total_pages),r.a.createElement(_.c,{variant:"outlined",color:"primary",onClick:function(){return e.changePage("next")},className:F()({"hide-button":n.page===n.total_pages})},"Next")),r.a.createElement(_.e,{variant:"extended",color:"primary","aria-label":"Add",className:"new-user-button",onClick:function(){return e.toggleDrawer(!0)}},r.a.createElement(H.a,null),"New User"),r.a.createElement(_.d,{className:"drawer",anchor:"right",open:this.state.rightDrawer,onClose:function(){return e.toggleDrawer(!1)}},r.a.createElement("div",{className:"new-user-container"},r.a.createElement(_.m,{className:"form-container"},r.a.createElement(_.u,{component:"h2",variant:"h6",align:"center"},"Create new user"),r.a.createElement("form",{className:"new-user-form",onSubmit:function(t){return e.createUser(t)}},r.a.createElement(_.f,{className:"form-control"},r.a.createElement(_.h,{htmlFor:"name"},"Name"),r.a.createElement(_.g,{type:"text",id:"name"})),r.a.createElement(_.f,{className:"form-control"},r.a.createElement(_.h,{htmlFor:"job"},"Job"),r.a.createElement(_.g,{type:"text",id:"job"})),r.a.createElement(_.c,{type:"submit",color:"primary",variant:"contained"},"Create User"))),r.a.createElement(_.e,{color:"secondary",className:"close-button",onClick:function(){return e.toggleDrawer(!1)}},r.a.createElement(M.a,null))))):r.a.createElement("p",null,"Loading..."),r.a.createElement(_.l,{open:!!c,onClose:function(){return e.props.dismissUser()},className:"modal-overlay"},r.a.createElement(_.m,{className:"modal-box"},c?r.a.createElement(P,null):null)))):r.a.createElement(C.a,{to:"/"})}}]),t}(n.Component),W={nextPage:function(){return{type:"NEXT_PAGE",cty:1}},prevPage:function(){return{type:"PREV_PAGE",cty:-1}},listUsers:function(e){return function(t){return U.listUsers(e).then(function(e){return t({type:"LIST_USERS",userData:e})})}},getUser:function(e){return function(t){return U.getUser(e).then(function(e){return t({type:"GET_USER",userInfo:e.data})})}},dismissUser:I,showSnackbar:D},J=Object(i.b)(function(e){var t=e.auth,a=e.pagination,n=e.users;return{user:t.user,page:a.page,userData:n.userData,userInfo:n.userInfo}},W)(B),K=a(83),z=a.n(K),V=a(142),X=a(143),$=a.n(X),Q=a(35),Y=a.n(Q),Z=a(36),ee=a.n(Z),te=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(y.a)(t,[{key:"responseFacebook",value:function(){var e=Object(V.a)(z.a.mark(function e(t){return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.login(t),this.props.history.push("/content");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement(Y.a,{className:"login-box"},r.a.createElement(ee.a,{component:"h1",variant:"h4",className:"login-title"},"React test"),r.a.createElement(ee.a,{variant:"body1",className:"login-subtitle"},"Please log in to continue"),r.a.createElement($.a,{appId:"662088070885226",autoLoad:!1,fields:"name,email,picture",callback:function(t){return e.responseFacebook(t)}})))}}]),t}(n.Component),ae={login:function(e){return{type:"LOGIN",userInfo:e}}},ne=Object(C.f)(Object(i.b)(null,ae)(te)),re=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.status,a=e.message,n=e.hideSnackbar;return r.a.createElement(_.n,{anchorOrigin:{horizontal:"center",vertical:"bottom"},autoHideDuration:1e4,open:t,onClose:function(){return n()},message:a,action:[r.a.createElement(_.c,{color:"secondary",size:"small",key:"undo",onClick:function(){return n()}},"Close")]})}}]),t}(n.Component),ce={hideSnackbar:function(){return{type:"HIDE_SNACKBAR"}}},se=Object(i.b)(function(e){var t=e.snackbar;return{status:t.status,message:t.message}},ce)(re);var oe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C.d,null,r.a.createElement(C.b,{exact:!0,path:"/",component:ne}),r.a.createElement(C.b,{exact:!0,path:"/content",component:J})),r.a.createElement(se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(i.a,{store:g},r.a.createElement(o.a,null,r.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,a){}},[[218,1,2]]]);
//# sourceMappingURL=main.3d128b26.chunk.js.map